/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C2*/SET SCHEMA PUBLIC
CREATE TABLE EMPLOYEE (EMPL_ID INTEGER GENERATED ALWAYS AS IDENTITY,EMPL_NAME VARCHAR(40) NOT NULL,ADDRESS VARCHAR(255),PHONE VARCHAR(10),PRIMARY KEY(EMPL_ID) )
CREATE TABLE AVAILABILITY (EMPLOYEE INTEGER,AVAILABLE_TIME INTEGER,AVAILABLE_DAY INTEGER,FOREIGN KEY (EMPLOYEE) REFERENCES EMPLOYEE(EMPL_ID),PRIMARY KEY(EMPLOYEE, AVAILABLE_TIME, AVAILABLE_DAY))
CREATE TABLE APPOINTMENTTYPE (TYPE_ID INTEGER GENERATED ALWAYS AS IDENTITY,NAME VARCHAR(40) NOT NULL,COST_CENTS INTEGER NOT NULL,PRIMARY KEY (TYPE_ID))
CREATE TABLE APPOINTMENT (APT_ID INTEGER GENERATED ALWAYS AS IDENTITY,DATE_AND_TIME DATETIME NOT NULL,APPOINTMENT_TYPE INTEGER NOT NULL,EMPLOYEE INTEGER NOT NULL,CUSTOMER VARCHAR(20) NOT NULL,PRIMARY KEY (APT_ID),FOREIGN KEY (APPOINTMENT_TYPE)    REFERENCES APPOINTMENTTYPE (TYPE_ID),FOREIGN KEY (EMPLOYEE) REFERENCES EMPLOYEE(EMPL_ID))
INSERT INTO EMPLOYEE VALUES(0,'default_employee','default','0420123456')
COMMIT
INSERT INTO APPOINTMENTTYPE VALUES(0,'DEFAULT_APPOINTMENT_TYPE',99)
COMMIT
INSERT INTO AVAILABILITY VALUES(0,36000,1)
COMMIT
INSERT INTO AVAILABILITY VALUES(0,32400,1)
COMMIT
INSERT INTO APPOINTMENT VALUES(0,'2017-05-22 09:00:00.000000',0,0,'default_customer')
COMMIT
INSERT INTO APPOINTMENT VALUES(1,'2017-05-22 10:00:00.000000',0,0,'default_customer')
COMMIT
INSERT INTO EMPLOYEE VALUES(1,'new Employee',NULL,NULL)
COMMIT
DELETE FROM EMPLOYEE WHERE EMPL_ID=1
INSERT INTO EMPLOYEE VALUES(1,'John Doe',NULL,NULL)
INSERT INTO AVAILABILITY VALUES(1,46800,2)
INSERT INTO AVAILABILITY VALUES(1,50400,2)
COMMIT
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
DISCONNECT
